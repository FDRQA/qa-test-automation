const { chromium } = require('playwright');

(async () => {
    console.log("ğŸš€ Abriendo Internxt Drive en el navegador...");
    
    // Lanzar navegador
    const browser = await chromium.launch({ headless: false });
    const context = await browser.newContext();
    const page = await context.newPage();

    // 1ï¸âƒ£ Ir a Internxt Drive
    await page.goto('https://drive.internxt.com/');
    await page.waitForTimeout(8000); // Esperar a que cargue

    // 2ï¸âƒ£ Hacer clic en "Inicia sesiÃ³n con el navegador"
    console.log("ğŸ”µ Haciendo clic en 'Inicia sesiÃ³n con el navegador'...");
    await page.click('text="Inicia sesiÃ³n con el navegador"');
    await page.waitForTimeout(7000);

    // 3ï¸âƒ£ Ingresar email
    console.log("ğŸ“Œ Escribiendo email...");
    await page.fill('input[type="email"]', "fatima@internxt.com");
    console.log("âœ… Email ingresado correctamente.");

    // 4ï¸âƒ£ Ingresar contraseÃ±a
    console.log("ğŸ” Escribiendo contraseÃ±a...");
    await page.fill('input[type="password"]', "Morgana.79@");
    console.log("âœ… ContraseÃ±a ingresada correctamente.");

    // 5ï¸âƒ£ Hacer clic en "Log in"
    console.log("ğŸ”µ Haciendo clic en el botÃ³n 'Log in'...");
    await page.click('button:has-text("Log in")');
    await page.waitForTimeout(7000); // Esperar el proceso de inicio de sesiÃ³n

    // 6ï¸âƒ£ Hacer clic en "Open the desktop app"
    console.log("ğŸ”µ Haciendo clic en 'Open the desktop app'...");
    await page.click('text="Open the desktop app"');
    console.log("âœ… AplicaciÃ³n de escritorio abierta exitosamente.");

    // Opcional: Cerrar navegador despuÃ©s de la prueba
    await browser.close();
})();